using P3.Driver.Loxone.Miniserver.Driver.Data.Message;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Xunit;

namespace P3.Driver.Loxone.Miniserver.Tests
{
    public class DataTests
    {
        [Fact]
        public void TestUuidParsing()
        {
            var binary = new byte[] { 16, 65, 38, 22, 1, 146, 7, 66, 255, 255, 201, 38, 162, 106, 141, 33 };

            var loxUuid = new LoxoneUuid(binary);

            Assert.Equal("16264110-9201-4207-ffffc926a26a8d21", loxUuid.Uuid.ToLower());
        }

        [Fact]
        public void TestUuidParsingInvalidInput()
        {
            var binary = new byte[] { 16, 65, 38, 22, 1, 146, 7, 66, 255, 255, 201, 38 };

            Assert.Throws<ArgumentException>(() => new LoxoneUuid(binary));
        }
        [Fact]
        public void TestUuidParsingInvalidInput2()
        {
            var binary = new byte[] { 16, 65, 38, 22, 1, 146, 7, 66, 255, 255, 201, 38, 16, 65, 38, 22, 1, 146, 7, 66, 255, 255, 201, 38 };

            Assert.Throws<ArgumentException>(() => new LoxoneUuid(binary));
        }

        [Fact]
        public void TestWeatherEntryParseFail1()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("FFFFFF40F95912010000002801000003000000370000000000000000002A40CDCCCCCCCCCC2540E8034EEFA9DA10400000000000000000CDCCCCCCCCCC0C4000000000000C9040");

            Assert.Throws<ArgumentException>(() => WeatherEntry.Parse(demoData));
        }
        [Fact]
        public void TestWeatherEntryParseFail2()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("010000002801000003000000370000000000000000002A40CDCCCCCCCCCC2540E8034EEFA9DA10400000000000000000CDCCCCCCCCCC0C4000000000000C9040");

            Assert.Throws<ArgumentException>(() => WeatherEntry.Parse(demoData));
        }

        [Fact]
        public void TestWeatherEntryParse()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("40F95912010000002801000003000000370000000000000000002A40CDCCCCCCCCCC2540E8034EEFA9DA10400000000000000000CDCCCCCCCCCC0C4000000000000C9040");

            var weather = WeatherEntry.Parse(demoData);

            Assert.NotNull(weather);

            Assert.Equal(1027, weather.BarometicPressure);
            Assert.Equal(4.2, Math.Round(weather.DewPoint, 1));
            Assert.Equal(10.9, weather.PerceivedTemperature);

            Assert.Equal(0, weather.Precipitation);
            Assert.Equal(55, weather.RelativeHumidity);
            Assert.Equal(3, weather.SolarRadiation);
            Assert.Equal(13, weather.Temperature);
            Assert.Equal(307886400, weather.Timestamp);
            Assert.Equal(1, weather.WeatherType);

            Assert.Equal(296, weather.WindDirection);
            Assert.Equal(3.6, weather.WindSpeed);
        }

        [Fact]
        public void TestWeatherEventTable()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("162641102202FB09FFFFC926A26A8D216BFB59120100000040F95912010000002801000003000000370000000000000000002A40CDCCCCCCCCCC2540E8034EEFA9DA10400000000000000000CDCCCCCCCCCC0C4000000000000C9040162641102202FA09FFFFB423EE3887856BFB59125F00000050075A12010000000000000003000000370000003333333333332B403333333333332740BF50550A311613400000000000000000CDCCCCCCCCCC0C4000000000000C904060155A12010000005900000003000000380000003333333333332C40CDCCCCCCCCCC28400EDC88AD78FA15400000000000000000CDCCCCCCCCCC0C40000000000008904070235A12010000005E00000003000000390000006666666666662B406666666666662740C40B747EDA7F15400000000000000000CDCCCCCCCCCC0C40000000000008904080315A120100000063000000010000003F000000333333333333294066666666666625409AA0B2FBA81A17400000000000000000CDCCCCCCCCCC0C400000000000089040903F5A12010000004B000000000000004300000000000000000025409A999999999920401F0420DD7FA612400000000000000000CDCCCCCCCCCC0C400000000000089040A04D5A120100000043000000000000004700000066666666666622406666666666661A402747B129D5F810400000000000000000CDCCCCCCCCCC1C400000000000089040B05B5A120100000051000000000000004900000033333333333320400000000000001440072201B836A00C400000000000000000CDCCCCCCCCCC1C4000000000000C9040C0695A12010000004400000000000000490000006666666666661C403333333333330F40B02FB721A7EB04400000000000000000CDCCCCCCCCCC1C4000000000000C9040D0775A1201000000470000000000000048000000CDCCCCCCCCCC1A400000000000000C40D16BA55F0B4D00400000000000000000CDCCCCCCCCCC1C4000000000000C9040E0855A12010000004D000000000000004A000000CDCCCCCCCCCC184033333333333307409D0DC6DA8FFEFE3F0000000000000000CDCCCCCCCCCC1C4000000000000C9040F0935A120100000048000000000000004C000000000000000000184066666666666606405C5040AE88EB00400000000000000000CDCCCCCCCCCC1C40000000000008904000A25A120100000046000000000000004C000000CDCCCCCCCCCC16403333333333330340608D48EC9931FD3F0000000000000000CDCCCCCCCCCC1C4000000000000C904010B05A12010000003E000000000000004B00000066666666666616409A9999999999014089EC4C988CB4F83F0000000000000000CDCCCCCCCCCC1C4000000000000C904020BE5A12010000003C000000000000004B00000066666666666616409A9999999999014089EC4C988CB4F83F0000000000000000CDCCCCCCCCCC1C40000000000008904030CC5A12010000003900000000000000490000009A99999999991540666666666666FE3F533544E26A46EF3F0000000000000000CDCCCCCCCCCC1C40000000000004904040DA5A12010000003A000000000000004900000000000000000016400000000000000040E30C6FE5D92DF13F0000000000000000CDCCCCCCCCCC1C40000000000004904050E85A12010000003B000000000000005000000033333333333315400000000000000040EE7269FBE33201400000000000000000CDCCCCCCCCCC1C40000000000004904060F65A12010000003C000000010000004F00000033333333333319403333333333330B40319E9323C49307400000000000000000CDCCCCCCCCCC1C40000000000004904070045B12010000005200000003000000480000009A99999999992140333333333333194062DD98784A3A10400000000000000000CDCCCCCCCCCC1C40000000000004904080125B12010000006F000000030000003F000000CDCCCCCCCCCC2640CDCCCCCCCCCC214042298EEC989012400000000000000000CDCCCCCCCCCC1C40000000000000904090205B120100000077000000030000003A0000006666666666662B409A999999999926405D860198087F16400000000000000000CDCCCCCCCCCC1C400000000000F88F40A02E5B12010000007D00000003000000360000006666666666662E40CDCCCCCCCCCC2940061B25F325FB17400000000000000000CDCCCCCCCCCC1C400000000000F08F40B03C5B12010000007B00000003000000320000009A999999999930400000000000002D40EB18A81AECB718400000000000000000CDCCCCCCCCCC1C400000000000F08F40C04A5B12010000007800000003000000320000009A999999999931400000000000002F40C9B24A4C97641C400000000000000000CDCCCCCCCCCC1C400000000000E88F40D0585B12010000007D00000003000000310000006666666666663240CDCCCCCCCC4C304042BC3ACC0E271E400000000000000000CDCCCCCCCCCC1C400000000000E88F40E0665B12010000007E00000003000000310000003333333333B332403333333333B33040BF28420D70401F400000000000000000CDCCCCCCCCCC1C400000000000E08F40F0745B12010000007A0000000300000034000000000000000000324033333333333330409CA112588A1320400000000000000000CDCCCCCCCCCC1C400000000000E08F4000835B120100000078000000010000003D00000033333333333330403333333333332D40F9CEB665FC6721400000000000000000CDCCCCCCCCCC1C400000000000E08F4010915B120100000064000000000000003D0000006666666666662B40CDCCCCCCCCCC2640729756F1FB6519400000000000000000CDCCCCCCCCCC1C400000000000D88F40209F5B12010000004C000000000000004000000033333333333328403333333333332340E1A03A7C691D16400000000000000000CDCCCCCCCCCC1C400000000000E08F4030AD5B120100000059000000000000003F0000006666666666662640CDCCCCCCCCCC204020E5C5D4E3CE11400000000000000000CDCCCCCCCCCC1C400000000000E08F4040BB5B120100000059000000000000003E00000033333333333324400000000000001C4004291B70B97D09400000000000000000CDCCCCCCCCCC1C400000000000E08F4050C95B120100000055000000000000003E00000000000000000023400000000000001A408B714D0749F504400000000000000000CDCCCCCCCCCC1C400000000000E08F4060D75B12010000004B0000000000000043000000CDCCCCCCCCCC2140CDCCCCCCCCCC18406D79200FE91909400000000000000000CDCCCCCCCCCC1C400000000000D88F4070E55B1201000000420000000000000040000000CDCCCCCCCCCC20409A99999999991740C4D59CC8962C00400000000000000000CDCCCCCCCCCC0C400000000000D88F4080F35B120100000059000000000000003F0000003333333333332040CDCCCCCCCCCC16408E2E606E464DF83F0000000000000000CDCCCCCCCCCC0C400000000000D88F4090015C12010000005900000000000000400000009A99999999991F40666666666666164082CD672D27C3F83F0000000000000000CDCCCCCCCCCC0C400000000000D88F40A00F5C120100000000000000000000003F0000000000000000002040666666666666164076BAF13B94C9F63F0000000000000000CDCCCCCCCCCC0C400000000000D88F40B01D5C1201000000620100000000000041000000CDCCCCCCCCCC1E403333333333331540C8E0E29CE929F93F0000000000000000CDCCCCCCCCCC0C400000000000D08F40C02B5C12010000000000000000000000430000003333333333331F400000000000001640E0769E4739B600400000000000000000CDCCCCCCCCCC0C400000000000D08F40D0395C12010000006001000000000000450000000000000000001E40CDCCCCCCCCCC144024B437D9A4B201400000000000000000CDCCCCCCCCCC0C400000000000D08F40E0475C12020000004D0100000100000045000000CDCCCCCCCCCC2040CDCCCCCCCCCC1840F6C7590B149608400000000000000000CDCCCCCCCCCC0C400000000000D08F40F0555C1202000000410100000300000045000000CDCCCCCCCCCC24406666666666662140395A4CFAE5F113400000000000000000CDCCCCCCCCCC0C400000000000D08F4000645C12010000000201000003000000350000000000000000002A400000000000002640807793CB51840D400000000000000000CDCCCCCCCCCC0C400000000000D08F4010725C1201000000D800000003000000310000000000000000002E40CDCCCCCCCCCC29407A35C24615B011400000000000000000CDCCCCCCCCCC0C400000000000C88F4020805C1201000000DB000000030000002F0000009A999999999930409A99999999992C404DBEF232462A15400000000000000000CDCCCCCCCCCC1C400000000000C88F40308E5C1201000000DA000000030000002D0000006666666666E631406666666666662F40BC6BBCC17D6617400000000000000000CDCCCCCCCCCC1C400000000000C08F40409C5C1202000000D4000000030000002F0000003333333333B332409A99999999993040C23AF143B8D21C400000000000000000CDCCCCCCCCCC1C400000000000C08F4050AA5C1202000000D100000003000000310000006666666666663340CDCCCCCCCCCC31405CB6F79170E820400000000000000000CDCCCCCCCCCC1C400000000000B88F4060B85C1202000000C900000003000000340000009A99999999993340CDCCCCCCCC4C3240C588F2AC390723400000000000000000CDCCCCCCCCCC1C400000000000B88F4070C65C1202000000C600000003000000370000006666666666E632403333333333B33140E4816B2A366523400000000000000000CDCCCCCCCCCC1C400000000000B08F4080D45C1203000000C0000000010000003D0000003333333333B331406666666666E630408B839443A33A24400000000000000000CDCCCCCCCCCC0C400000000000B08F4090E25C1202000000BD0000000000000040000000CDCCCCCCCCCC2F40CDCCCCCCCCCC2D40C4F879204D4122400000000000000000CDCCCCCCCCCC0C400000000000B08F40A0F05C1202000000EF00000000000000410000000000000000002E406666666666662C4023C5519F870121400000000000000000CDCCCCCCCCCC0C400000000000B08F40B0FE5C12020000003601000000000000410000009A99999999992C403333333333332A40CD5AF69E085B1F400000000000000000CDCCCCCCCCCC0C400000000000B88F40C00C5D12010000004901000000000000420000009A99999999992A40CDCCCCCCCCCC2740114C209537721C400000000000000000CDCCCCCCCCCC0C400000000000B88F40D01A5D120300000044010000000000004000000066666666666629409A99999999992540D91A5F357C6318400000000000000000CDCCCCCCCCCC0C400000000000B08F40E0285D12030000003B010000000000003B00000066666666666628409A9999999999234003FAA84E6DD911400000000000000000CDCCCCCCCCCC0C400000000000B08F40F0365D12020000003B01000000000000420000009A999999999927403333333333332340FD5F16B0B6BD16400000000000000000CDCCCCCCCCCC1C400000000000B08F4000455D120200000037010000000000004900000000000000000027406666666666662340B418AD0F54681B400000000000000000CDCCCCCCCCCC0C400000000000B88F4010535D120200000020010000000000004900000066666666666626403333333333332340DEED9B4D9D401A400000000000000000CDCCCCCCCCCC0C400000000000B08F4020615D120300000025010000000000004C0000009A999999999926409A999999999923406A62516645F91C400000000000000000CDCCCCCCCCCC0C400000000000B08F40306F5D120400000020010000000000004F000000CDCCCCCCCCCC2540333333333333234014ED83E1DFAC1D400000000000000000CDCCCCCCCCCC0C400000000000B08F40407D5D1203000000F800000000000000550000009A99999999992540CDCCCCCCCCCC2340BEAD61724EC820400000000000000000CDCCCCCCCCCC0C400000000000B08F40508B5D1204000000CB00000000000000540000000000000000002540000000000000234059AD3C901EB21F400000000000000000CDCCCCCCCCCC0C400000000000A88F4060995D1204000000C8000000000000005300000033333333333326406666666666662440B2E237EAD0AB20400000000000000000CDCCCCCCCCCC0C400000000000B08F4070A75D1204000000D4000000020000004C0000003333333333332940CDCCCCCCCCCC2640D44C7822670021400000000000000000CDCCCCCCCCCC0C400000000000B88F4080B55D1204000000E600000003000000460000006666666666662C406666666666662940B0870E5F4EA921400000000000000000CDCCCCCCCCCC1C400000000000B88F4090C35D1202000000EE00000003000000410000000000000000002F403333333333332B4087A6A4A35DF421400000000000000000CDCCCCCCCCCC1C400000000000B08F40A0D15D1203000000EF000000030000003E00000066666666666630409A99999999992C404A3FDCDD2843224000000000000000009A999999999925400000000000A88F40B0DF5D1203000000F2000000030000003D00000033333333333331400000000000002D40562B3452C84923400000000000000000CDCCCCCCCCCC2C400000000000A88F40C0ED5D1204000000FF000000030000003F0000003333333333B331400000000000002F40E07FDC4CFA30254000000000000000009A999999999925400000000000B08F40D0FB5D120400000003010000030000003D0000006666666666663240CDCCCCCCCC4C304023842972C98B254000000000000000009A999999999925400000000000A88F40E0095E120500000007010000030000004600000066666666666632409A99999999193140238A6C8628B3294000000000000000009A999999999925400000000000B08F40F0175E120400000011010000020000004E0000006666666666E63140CDCCCCCCCC4C3140E483EB32D50B2C4000000000000000009A999999999925400000000000B08F4000265E12050000001C010000000000005600000000000000000031406666666666E63040354F2E2C534C2D400000000000000000CDCCCCCCCCCC1C400000000000B08F4010345E12040000001C010000000000005D0000009A99999999992E406666666666662E4089649F71695B2C400000000000000000CDCCCCCCCCCC1C400000000000B88F4020425E12040000001B010000000000005E0000006666666666662C40CDCCCCCCCCCC2A40DCD35B0DCD802A4000000000000000009A999999999925400000000000C08F4030505E120500000017010000000000005F000000CDCCCCCCCCCC2A400000000000002840CD16825E903C294000000000000000009A999999999925400000000000D08F40405E5E12040000001401000000000000610000000000000000002940CDCCCCCCCCCC25401EABCF2FBC13284000000000000000009A999999999925400000000000D88F40506C5E1204000000150100000000000061000000CDCCCCCCCCCC2740CDCCCCCCCCCC2340CB8CFB65AEE1264000000000000000009A999999999925400000000000D88F40607A5E12040000001501000000000000610000000000000000002740CDCCCCCCCCCC224066587DCFA41526400000000000000000CDCCCCCCCCCC2C400000000000D88F4070885E1204000000120100000000000061000000333333333333264000000000000022402105FAE79A49254000000000000000009A999999999925400000000000E08F4080965E120400000016010000000000006100000066666666666625406666666666662140C76271AF907D244000000000000000009A999999999925400000000000F08F4090A45E12060000001B01000000000000610000006666666666662540CDCCCCCCCCCC2140C76271AF907D244000000000000000009A999999999925400000000000F08F40A0B25E12050000001B010000000000006000000033333333333325403333333333332240E95A19679CFB23400000000000000000CDCCCCCCCCCC1C400000000000F08F40B0C05E12060000001501000000000000600000009A99999999992440CDCCCCCCCCCC2140B23B75C5C56223400000000000000000CDCCCCCCCCCC1C400000000000F08F40C0CE5E12040000001001000000000000600000006666666666662440CDCCCCCCCCCC2140981D0A82D32F23400000000000000000CDCCCCCCCCCC1C400000000000F88F40D0DC5E12040000000B01000000000000600000009A9999999999234000000000000021405FC9AC300A6422400000000000000000CDCCCCCCCCCC1C400000000000F88F40E0EA5E120400000009010000000000006000000000000000000024406666666666662140BC3BE5E6EEC922400000000000000000CDCCCCCCCCCC1C400000000000009040F0F85E120A0000000E010000020000005F0000009A9999999999254033333333333323402C18960CB4112440000000000000E03FCDCCCCCCCCCC1C40000000000004904000075F120400000012010000030000005F000000CDCCCCCCCCCC2640CDCCCCCCCCCC24406CE1BE92FC4225400000000000000000CDCCCCCCCCCC1C40000000000004904010155F120400000028010000030000005D0000006666666666662840CDCCCCCCCCCC2640E5A18182573626400000000000000000CDCCCCCCCCCC1C40000000000000904020235F120600000049010000030000005D000000CDCCCCCCCCCC29409A99999999992840BF497E07919927400000000000000000CDCCCCCCCCCC1C40000000000000904030315F120500000008000000030000005B0000009A99999999992B40CDCCCCCCCCCC2A403729369E4FB928400000000000000000CDCCCCCCCCCC1C400000000000009040");

            var message = BinaryMessage.GenerateBinaryMessage(HeaderIdentifier.EventTableOfWeatherStates, demoData, null);

            Assert.NotNull(message);
            Assert.IsType<EventTableOfWeatherStates>(message);

            var co = (EventTableOfWeatherStates)message;

            Assert.Equal(2, co.Values.Count);
            Assert.Equal(1, co.Values.ToList()[0].Value.WeatherEntries.Count);

            Assert.Equal(95, co.Values.ToList()[1].Value.WeatherEntries.Count);
        }

        [Fact]
        public void TestDaytimerEntryParse()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("00000000770100002805000000000000000000000000F03F");

            var entry = DaytimerEntry.Parse(demoData);
            Assert.NotNull(entry);

            Assert.Equal(375, entry.From);
            Assert.Equal(0, entry.Mode);
            Assert.Equal(0, entry.NeedActivate);
            Assert.Equal(1320, entry.To);
            Assert.Equal(1, entry.Value);
        }

        [Fact]
        public void TestDaytimerEntryParseFail1()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("0000000000770100002805000000000000000000000000F03F");

            Assert.Throws<ArgumentException>(() => DaytimerEntry.Parse(demoData));
        }
        [Fact]
        public void TestDaytimerEntryParseFail2()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("770100002805000000000000000000000000F03F");

            Assert.Throws<ArgumentException>(() => DaytimerEntry.Parse(demoData));
        }

        [Fact]
        public void TestDaytimerEventTable()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("79FD79103D028E52FFFF9D8DC10F981000000000000000000B00000000000000770100002805000000000000000000000000F03F0B000000770100002805000000000000000000000000F03F02000000770100002805000000000000000000000000F03F0100000000000000A005000000000000000000000000084003000000770100002805000000000000000000000000F03F04000000770100002805000000000000000000000000F03F05000000770100002805000000000000000000000000F03F06000000770100002805000000000000000000000000F03F07000000770100002805000000000000000000000000F03F08000000770100006405000000000000000000000000F03F0900000077010000A005000000000000000000000000F03F79FD79103D028F52FFFF9D8DC10F981000000000000000000500000002000000E00100002905000000000000000000000000144000000000E00100002905000000000000000000000000144003000000000000003C000000000000000000000000000040070000002C0100002805000000000000000000000000004008000000E001000028050000000000000000000000000040");
            var message = BinaryMessage.GenerateBinaryMessage(HeaderIdentifier.EventTableOfDaytimerStates, demoData, null);

            Assert.IsType<EventTableOfDaytimerStates>(message);

            var co = (EventTableOfDaytimerStates)message;

            Assert.Equal(2, co.Values.Count);

            Assert.Equal(11, co.Values.ToList()[0].Value.DaytimerEntries.Count);
            Assert.Equal(0, co.Values.ToList()[0].Value.DefaultValue);

            Assert.Equal(5, co.Values.ToList()[1].Value.DaytimerEntries.Count);
            Assert.Equal(0, co.Values.ToList()[1].Value.DefaultValue);
        }

        [Fact]
        public void TestTextStateEventTable()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("1626411010029E09FFFFB423EE38878500000000000000000000000000000000020000005B5D00001626411010029D09FFFFB423EE38878500000000000000000000000000000000020000005B5D00003D37411036011407FFFFD27087A1A55100000000000000000000000000000000020000005B5D00003D37411036011507FFFFD27087A1A55100000000000000000000000000000000320000005B226873762832352C39362C353029222C226873762832342C39352C383029222C22687376283333372C39342C353029225D00001626411092011307FFFFC926A26A8D21000000000000000000000000000000001D000000323031382D31302D30342031353A31383A3334202B30323A30303A303000000037E27910770254FCFFFFC926A26A8D21000000000000000000000000000000000000000037E27910770225FCFFFF7DEEA263B860000000000000000000000000000000000000000037E279101B03B9FDFFFFC926A26A8D21000000000000000000000000000000000000000037E279101B03A3FDFFFFB398EA21658F000000000000000000000000000000000000000082E37910D2032DD4FFFF016DC3E156FA000000000000000000000000000000000000000037E279101B03BDFEFFFFB398EA21658F000000000000000000000000000000000F000000312C312C312C312C312C312C312C3100");

            var message = BinaryMessage.GenerateBinaryMessage(HeaderIdentifier.EventTableOfTextStates, demoData, null);

            Assert.IsType<EventTableOfTextStates>(message);

            var co = (EventTableOfTextStates)message;

            Assert.Equal(11, co.Values.Count);

            Assert.Equal("1,1,1,1,1,1,1,1", co.Values.ToList()[10].Value.Text);
        }


        [Fact]
        public void TestValueStateEventTable()
        {
            var demoData = Automatica.Core.Driver.Utility.Utils.StringToByteArray("1626411092014207FFFFC926A26A8D2100000000000018401626411092015407FFFFC926A26A8D210000000000C07A401626411092015707FFFFC926A26A8D2100000000007891401626411092011207FFFFC926A26A8D2100000000000000001626411092011407FFFFC926A26A8D21000000000000000037E27910770247FCFFFF7DEEA263B860000000000000000037E27910770221FCFFFF7DEEA263B860000000000000000037E27910770222FCFFFF7DEEA263B860000000000000000037E27910770223FCFFFF7DEEA263B860000000000000000037E27910770224FCFFFF7DEEA263B860000000000000000037E27910770250FCFFFF7DEEA263B860000000000000000037E2791077023AFCFFFF7DEEA263B8600000000000C0824037E27910770226FCFFFF7DEEA263B860000000000000000037E27910770248FCFFFF7DEEA263B860000000000000000037E27910770249FCFFFF7DEEA263B860000000000000000037E2791077024AFCFFFF7DEEA263B860000000000000000037E2791077024BFCFFFF7DEEA263B860000000000000000037E2791077024CFCFFFF7DEEA263B860000000000000000037E2791077024DFCFFFF7DEEA263B860000000000000000037E2791077024EFCFFFF7DEEA263B860000000000000000037E2791077024FFCFFFF7DEEA263B860000000000000000037E27910770227FCFFFF7DEEA263B860000000000000000037E27910770228FCFFFF7DEEA263B860000000000000000037E27910770229FCFFFF7DEEA263B860000000000000000037E2791077022AFCFFFF7DEEA263B860000000000000000037E2791077022BFCFFFF7DEEA263B860000000000000000037E279101B03B7FDFFFFB398EA21658F000000000000000037E279101B03B5FDFFFFB398EA21658F000000000000000037E279101B039DFDFFFFB398EA21658F000000000000000037E279101B039EFDFFFFB398EA21658F000000000000000037E279101B039FFDFFFFB398EA21658F000000000000000037E279101B03A0FDFFFFB398EA21658F000000000000000037E279101B03A1FDFFFFB398EA21658F000000000000000037E279101B03A2FDFFFFB398EA21658F000000000000000037E279101B03B3FDFFFFB398EA21658F000000000000000037E279101B03B4FDFFFFB398EA21658F000000000000000037E279101B03B6FDFFFFB398EA21658F000000000000000037E279101B03A6FDFFFFB398EA21658F000000000000000037E279101B03A7FDFFFFB398EA21658F0000000000000000918A2E11B0034E15FFFF6F5BF1904363000000000000000037E279101B03A8FDFFFFB398EA21658F000000000000000037E279101B03A9FDFFFFB398EA21658F000000000000000037E279101B03AAFDFFFFB398EA21658F000000000000000037E279101B03ABFDFFFFB398EA21658F000000000000000037E2791032037CFFFFFFC926A26A8D21000000000000000008284110EC00D116FFFFC926A26A8D21000000000000000008284110EC00BB17FFFFC926A26A8D21000000000000000008284110FC005718FFFFC926A26A8D21000000000000000008284110FC00A518FFFFC926A26A8D21000000000000000008284110FC004119FFFFC926A26A8D21000000000000000008284110FC00F318FFFFC926A26A8D21000000000000000008284110EC003516FFFFC926A26A8D21000000000000000008284110EC008316FFFFC926A26A8D21000000000000000008284110EC000918FFFFC926A26A8D21000000000000000008284110EC001F17FFFFC926A26A8D21000000000000000008284110EC006D17FFFFC926A26A8D21000000000000000008284110EC00E715FFFFC926A26A8D21000000000000000082E37910D20337D4FFFFC926A26A8D21000000000000F03F82E37910D20319D4FFFF016DC3E156FA000000000000000082E37910D2031AD4FFFF016DC3E156FA000000000000000082E37910D2031BD4FFFF016DC3E156FA000000000000000082E37910D2031CD4FFFF016DC3E156FAF2D24D625005AB4082E37910D2031DD4FFFF016DC3E156FAF2D24D625005AB4082E37910D2031ED4FFFF016DC3E156FA9A9999999999C93F82E37910D2031FD4FFFF016DC3E156FA000000000000000082E37910D20323D4FFFF016DC3E156FA9A9999999999B93F82E37910D20327D4FFFF016DC3E156FA000000000000000082E37910D20328D4FFFF016DC3E156FA7B14AE47E17A943F82E37910D20329D4FFFF016DC3E156FA3D0AD7A3700E8B4082E37910D2032AD4FFFF016DC3E156FA3D0AD7A3700E8B4082E37910D2032BD4FFFF016DC3E156FA000000000000000082E37910D2032CD4FFFF016DC3E156FA000000000000000082E37910D2032ED4FFFF016DC3E156FA9A9999999999C93F82E37910D2032FD4FFFF016DC3E156FA000000000000000082E37910D20330D4FFFF016DC3E156FA000000000000000010EE7910FC01E050FFFFC926A26A8D219A9999999999C93F10EE7910FC01E150FFFFC926A26A8D219A9999999999C93F10EE7910FC01DF50FFFFC926A26A8D218E976E1283C0CA3F10EE7910FC01E350FFFFC926A26A8D21000000000000F03F10EE7910FC01E450FFFFC926A26A8D21000000000080494010EE7910FC01E250FFFFC926A26A8D21000000000000F03F37E279101B03CDFEFFFFC926A26A8D210000000000000000D8F17910040274A5FFFFC926A26A8D210000000000000000D8F17910390159A5FFFFC926A26A8D210000000000000000D8F1791071027DA5FFFFC926A26A8D210000000000000000D8F17910B7016BA5FFFFC926A26A8D210000000000000000D8F17910FA0050A5FFFFC926A26A8D210000000000000000D8F17910770162A5FFFFC926A26A8D210000000000000000D8F17910BC00B3A5FFFFC926A26A8D210000000000000000D8F17910BF0286A5FFFFC926A26A8D21000000000000000037E279101B03C6FEFFFFB398EA21658F000000000000000037E279101B03C8FEFFFFB398EA21658F000000000000204037E279101B03C7FEFFFFB398EA21658F000000000000000037E279101B03C9FEFFFFB398EA21658F000000000000000037E279101B03CAFEFFFFB398EA21658F000000000000000037E279101B03CBFEFFFFB398EA21658F000000000000000039E279107B00BDFFFFFFC926A26A8D21000000000000000039E279107B00BAFFFFFF9D7D34BB1761000000000000000039E279106803A301FFFFC926A26A8D21000000000000000039E279106803A001FFFF9D7D34BB1761000000000000000039E279108003BE01FFFFC926A26A8D21000000000000000039E279108003BB01FFFF9D7D34BB1761000000000000000039E27910DA019900FFFFC926A26A8D21000000000000000039E27910DA019600FFFF9D7D34BB1761000000000000000037E2791032035FFFFFFFC926A26A8D21000000000000000031E27910E6035EEBFFFFC926A26A8D21000000000000000032E279102303B9EFFFFFC926A26A8D21000000000000000036E279107003DDF7FFFFC926A26A8D21000000000000000034E27910110235F1FFFFC926A26A8D21000000000000000034E27910FF0024F3FFFFC926A26A8D21000000000000000031E27910020231ECFFFFC926A26A8D21000000000000000034E279105F02C7F3FFFFC926A26A8D21000000000000000032E2791036011BEEFFFFC926A26A8D21000000000000000037E279102601BEF8FFFFC926A26A8D21000000000000000036E279107A00AEF5FFFFC926A26A8D21000000000000000034E27910F700CFF0FFFFC926A26A8D21000000000000000034E27910B70370F2FFFFC926A26A8D210000000000000000");
            var message = BinaryMessage.GenerateBinaryMessage(HeaderIdentifier.EventTableOfValueStates, demoData, null);

            Assert.IsType<EventTableOfValueStates>(message);

            var co = (EventTableOfValueStates)message;

            Assert.Equal(117, co.Values.Count);

            Assert.Equal(6, co.Values.ToList()[0].Value);
            Assert.Equal(865.805, co.Values.ToList()[68].Value);
        }
    }
}
